import{c as f,u as g,j as e,L as d,S as j,d as o}from"./index-KWCbjcav.js";import{F as x}from"./FadeImage-D5sI62Vv.js";import{C as y}from"./circle-alert-Bt7Whk7E.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],p=f("arrow-up-right",v),F=({book:s,featured:b=!1,viewMode:m="grid"})=>{const{region:l,t,addToCart:h}=g(),r=s.variants[0],u=s.stock>0&&s.stock<5,a=s.stock===0&&!s.isPreorder,n=i=>{i.preventDefault(),i.stopPropagation(),r&&s.stock>0&&(h(s,r,1),o.addToCart(s,r,1))},c=()=>{o.viewItem(s)};return m==="list"?e.jsx(d,{to:`/product/${s.id}`,onClick:c,className:"group relative block w-full bg-white border-b border-primary hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-stretch min-h-[180px]",children:[e.jsxs("div",{className:"w-[120px] md:w-[150px] flex-shrink-0 border-r border-primary relative overflow-hidden bg-[#F4F4F0]",children:[e.jsx(x,{src:s.coverUrl,alt:s.title,className:`w-full h-full object-cover transition-all duration-[1000ms] ${a?"opacity-50 grayscale":"grayscale group-hover:grayscale-0"}`}),s.isPreorder&&e.jsx("span",{className:"absolute top-2 left-2 bg-accent text-white px-2 py-0.5 text-[8px] font-bold uppercase tracking-widest",children:t("common.preorder_badge")})]}),e.jsxs("div",{className:"flex-1 p-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-serif text-primary group-hover:text-accent transition-colors",children:s.title}),e.jsx("p",{className:"font-mono text-xs text-gray-500 uppercase tracking-wider",children:s.author})]}),e.jsxs("span",{className:"font-mono text-xl font-bold",children:[s.price.toFixed(2)," ",l.currency]})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 max-w-2xl font-light leading-relaxed mt-2",children:s.description})]}),e.jsxs("div",{className:"flex justify-between items-end mt-4",children:[e.jsxs("div",{className:"flex gap-4 text-[10px] uppercase text-gray-400 font-mono",children:[e.jsx("span",{children:r==null?void 0:r.format}),e.jsx("span",{className:"hidden sm:inline",children:"|"}),e.jsx("span",{className:"hidden sm:inline",children:r==null?void 0:r.isbn}),e.jsx("span",{className:"hidden sm:inline",children:"|"}),e.jsx("span",{className:"hidden sm:inline",children:s.details.year})]}),!a&&e.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-xs uppercase font-bold tracking-widest text-primary hover:text-accent transition-colors",children:[e.jsx("span",{children:s.isPreorder?t("product.make_preorder"):t("product.add_to_cart")}),e.jsx(p,{size:14})]}),a&&e.jsx("span",{className:"text-xs uppercase font-bold text-gray-400",children:t("common.sold_out")})]})]})]})}):e.jsx(d,{to:`/product/${s.id}`,onClick:c,className:"group relative block h-full w-full bg-white border-r border-b border-primary transition-all duration-300 hover:z-20 hover:shadow-[8px_8px_0px_0px_#040F1E] hover:-translate-y-1 hover:-translate-x-1",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-primary bg-white text-[9px] font-mono uppercase tracking-wider text-gray-500",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary font-bold",children:(r==null?void 0:r.isbn)||"N/A"}),e.jsx("span",{className:"hidden sm:inline text-primary/20",children:"|"}),e.jsx("span",{className:"hidden sm:inline",children:s.details.year})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("span",{className:`${s.variants.length>1?"text-accent":""}`,children:(r==null?void 0:r.format)||"Standard"})})]}),e.jsxs("div",{className:"relative w-full aspect-[3/4] border-b border-primary overflow-hidden bg-[#F4F4F0] perspective-1000",children:[e.jsxs("div",{className:"absolute top-3 left-3 z-20 flex flex-col gap-2 items-start pointer-events-none",children:[s.isPreorder&&e.jsx("span",{className:"bg-accent text-white px-2 py-1 text-[9px] font-bold uppercase tracking-widest shadow-sm",children:t("common.preorder_badge")}),s.badges.includes("new")&&e.jsx("span",{className:"bg-primary text-white px-2 py-1 text-[9px] font-bold uppercase tracking-widest shadow-sm",children:"NEW"}),s.badges.includes("bestseller")&&e.jsx("span",{className:"bg-white text-primary border border-primary px-2 py-1 text-[9px] font-bold uppercase tracking-widest shadow-sm",children:"HIT"})]}),e.jsx("div",{className:"w-full h-full transform transition-transform duration-700 group-hover:scale-105",children:e.jsx(x,{src:s.coverUrl,alt:s.title,className:`w-full h-full object-cover transition-all duration-[1000ms] ease-out-quart ${a?"opacity-50 grayscale":"grayscale group-hover:grayscale-0"}`})}),a&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/40 backdrop-blur-[2px] z-10 pointer-events-none",children:e.jsx("div",{className:"bg-primary text-white px-6 py-3 font-mono text-xs uppercase tracking-[0.2em] border-2 border-white shadow-lg",children:t("common.sold_out")})}),!a&&e.jsx("div",{className:"absolute inset-x-0 bottom-0 translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-out-quart z-20",children:e.jsxs("button",{onClick:n,className:"w-full bg-primary text-white py-4 flex items-center justify-center gap-2 text-xs uppercase font-bold tracking-widest hover:bg-accent transition-colors border-t border-white/20",children:[e.jsx(j,{size:14}),e.jsx("span",{children:s.isPreorder?t("product.make_preorder"):t("product.add_to_cart")})]})})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-1 justify-between gap-4 bg-white relative",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-serif leading-[1.0] mb-2 group-hover:text-accent transition-colors duration-300 line-clamp-2 min-h-[2em]",children:s.title}),e.jsxs("p",{className:"font-mono text-[10px] uppercase tracking-[0.15em] text-gray-400 mb-4 truncate",children:[t("product.by_author")," ",e.jsx("span",{className:"text-primary font-bold",children:s.author})]}),e.jsx("div",{className:"flex flex-wrap gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 absolute top-[-1.5rem] right-2 bg-white px-2 border border-primary",children:s.genre.slice(0,1).map(i=>e.jsx("span",{className:"text-[9px] uppercase font-bold tracking-wider text-primary",children:i},i))})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100 flex items-end justify-between",children:[e.jsxs("div",{children:[s.oldPrice&&e.jsxs("span",{className:"block text-xs text-gray-400 line-through decoration-red-500 decoration-1 mb-0.5",children:[s.oldPrice.toFixed(2)," ",l.currency]}),e.jsxs("span",{className:"font-serif text-xl font-medium block leading-none",children:[s.price.toFixed(2)," ",l.currency]})]}),e.jsx("div",{className:"flex flex-col items-end",children:u?e.jsxs("div",{className:"flex items-center gap-1 text-[9px] uppercase font-bold text-red-500 tracking-wider animate-pulse mb-1",children:[e.jsx(y,{size:10})," ",e.jsxs("span",{children:["Last ",s.stock]})]}):e.jsx("div",{className:"w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center group-hover:bg-primary group-hover:border-primary transition-all duration-300",children:e.jsx(p,{className:"text-gray-300 group-hover:text-white transition-colors",size:14})})})]})]})]})})};export{F as P};
